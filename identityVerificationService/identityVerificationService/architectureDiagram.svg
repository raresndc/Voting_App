<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: Architecture Pages: 1 -->
<svg width="1249pt" height="437pt"
 viewBox="0.00 0.00 1248.63 437.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 433)">
<title>Architecture</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-433 1244.63,-433 1244.63,4 -4,4"/>
<!-- Client -->
<g id="node1" class="node">
<title>Client</title>
<ellipse fill="none" stroke="black" cx="448.44" cy="-411" rx="63.89" ry="18"/>
<text text-anchor="middle" x="448.44" y="-407.3" font-family="Times,serif" font-size="14.00">User Agent</text>
</g>
<!-- JwtAuth -->
<g id="node2" class="node">
<title>JwtAuth</title>
<ellipse fill="none" stroke="black" cx="128.44" cy="-164" rx="120.48" ry="18"/>
<text text-anchor="middle" x="128.44" y="-160.3" font-family="Times,serif" font-size="14.00">JwtAuthenticationFilter</text>
</g>
<!-- Client&#45;&gt;JwtAuth -->
<g id="edge1" class="edge">
<title>Client&#45;&gt;JwtAuth</title>
<path fill="none" stroke="black" d="M390.64,-403.28C336.36,-395.05 254.32,-377.56 191.44,-342 161.35,-324.98 149.86,-319.42 135.44,-288 121.47,-257.55 121.97,-218.32 124.47,-192.45"/>
<polygon fill="black" stroke="black" points="127.98,-192.58 125.63,-182.24 121.02,-191.79 127.98,-192.58"/>
<text text-anchor="middle" x="218.94" y="-276.8" font-family="Times,serif" font-size="14.00">Authorization: Bearer...</text>
</g>
<!-- FacePhotoCtrl -->
<g id="node4" class="node">
<title>FacePhotoCtrl</title>
<ellipse fill="none" stroke="black" cx="816.44" cy="-324" rx="106.68" ry="18"/>
<text text-anchor="middle" x="816.44" y="-320.3" font-family="Times,serif" font-size="14.00">FacePhotoController</text>
</g>
<!-- Client&#45;&gt;FacePhotoCtrl -->
<g id="edge3" class="edge">
<title>Client&#45;&gt;FacePhotoCtrl</title>
<path fill="none" stroke="black" d="M492.85,-397.96C511.94,-392.09 534.24,-384.27 553.44,-375 564.43,-369.69 565.03,-364.31 576.44,-360 617.11,-344.63 664,-335.97 705.49,-331.1"/>
<polygon fill="black" stroke="black" points="706.09,-334.55 715.64,-329.97 705.31,-327.6 706.09,-334.55"/>
<text text-anchor="middle" x="685.44" y="-363.8" font-family="Times,serif" font-size="14.00">POST /api/face&#45;photo/{userId}</text>
</g>
<!-- Client&#45;&gt;FacePhotoCtrl -->
<g id="edge4" class="edge">
<title>Client&#45;&gt;FacePhotoCtrl</title>
<path fill="none" stroke="black" d="M510.97,-407.07C604.44,-402.18 772.07,-391.26 794.44,-375 802.13,-369.41 807.18,-360.53 810.46,-351.79"/>
<polygon fill="black" stroke="black" points="813.83,-352.76 813.48,-342.17 807.15,-350.67 813.83,-352.76"/>
<text text-anchor="middle" x="910.94" y="-363.8" font-family="Times,serif" font-size="14.00">GET /api/face&#45;photo/{userId}</text>
</g>
<!-- FaceCompareCtrl -->
<g id="node5" class="node">
<title>FaceCompareCtrl</title>
<ellipse fill="none" stroke="black" cx="322.44" cy="-324" rx="121.58" ry="18"/>
<text text-anchor="middle" x="322.44" y="-320.3" font-family="Times,serif" font-size="14.00">FaceCompareController</text>
</g>
<!-- Client&#45;&gt;FaceCompareCtrl -->
<g id="edge5" class="edge">
<title>Client&#45;&gt;FaceCompareCtrl</title>
<path fill="none" stroke="black" d="M394.26,-401.4C364.75,-395.49 332.45,-386.63 323.44,-375 318.56,-368.7 317.05,-360.49 317.13,-352.55"/>
<polygon fill="black" stroke="black" points="320.62,-352.71 317.98,-342.45 313.65,-352.12 320.62,-352.71"/>
<text text-anchor="middle" x="438.44" y="-363.8" font-family="Times,serif" font-size="14.00">GET /api/face&#45;compare/{userId}</text>
</g>
<!-- SecCtx -->
<g id="node3" class="node">
<title>SecCtx</title>
<ellipse fill="none" stroke="black" cx="86.44" cy="-91" rx="86.38" ry="18"/>
<text text-anchor="middle" x="86.44" y="-87.3" font-family="Times,serif" font-size="14.00">SecurityContext</text>
</g>
<!-- JwtAuth&#45;&gt;SecCtx -->
<g id="edge2" class="edge">
<title>JwtAuth&#45;&gt;SecCtx</title>
<path fill="none" stroke="black" d="M118.28,-145.81C113.32,-137.44 107.26,-127.2 101.76,-117.9"/>
<polygon fill="black" stroke="black" points="104.62,-115.85 96.52,-109.03 98.59,-119.42 104.62,-115.85"/>
</g>
<!-- JwtSvc -->
<g id="node9" class="node">
<title>JwtSvc</title>
<ellipse fill="none" stroke="black" cx="251.44" cy="-91" rx="60.39" ry="18"/>
<text text-anchor="middle" x="251.44" y="-87.3" font-family="Times,serif" font-size="14.00">JwtService</text>
</g>
<!-- JwtAuth&#45;&gt;JwtSvc -->
<g id="edge13" class="edge">
<title>JwtAuth&#45;&gt;JwtSvc</title>
<path fill="none" stroke="black" d="M157.28,-146.35C174.85,-136.21 197.44,-123.17 216.09,-112.41"/>
<polygon fill="black" stroke="black" points="217.97,-115.36 224.89,-107.33 214.48,-109.3 217.97,-115.36"/>
</g>
<!-- FaceExtractSvc -->
<g id="node6" class="node">
<title>FaceExtractSvc</title>
<ellipse fill="none" stroke="black" cx="668.44" cy="-164" rx="115.88" ry="18"/>
<text text-anchor="middle" x="668.44" y="-160.3" font-family="Times,serif" font-size="14.00">FaceExtractionService</text>
</g>
<!-- FacePhotoCtrl&#45;&gt;FaceExtractSvc -->
<g id="edge6" class="edge">
<title>FacePhotoCtrl&#45;&gt;FaceExtractSvc</title>
<path fill="none" stroke="black" d="M818.39,-305.89C819.98,-283.47 819.35,-244.08 799.44,-219 785.91,-201.95 766.08,-190.24 745.93,-182.21"/>
<polygon fill="black" stroke="black" points="746.94,-178.85 736.35,-178.66 744.51,-185.41 746.94,-178.85"/>
</g>
<!-- FaceCacheSvc -->
<g id="node7" class="node">
<title>FaceCacheSvc</title>
<ellipse fill="none" stroke="black" cx="1118.44" cy="-237" rx="122.38" ry="18"/>
<text text-anchor="middle" x="1118.44" y="-233.3" font-family="Times,serif" font-size="14.00">FacePhotoCacheService</text>
</g>
<!-- FacePhotoCtrl&#45;&gt;FaceCacheSvc -->
<g id="edge7" class="edge">
<title>FacePhotoCtrl&#45;&gt;FaceCacheSvc</title>
<path fill="none" stroke="black" d="M868.7,-308.29C920.38,-293.75 999.54,-271.47 1054.84,-255.9"/>
<polygon fill="black" stroke="black" points="1055.86,-259.25 1064.54,-253.17 1053.96,-252.51 1055.86,-259.25"/>
</g>
<!-- SecConfig -->
<g id="node13" class="node">
<title>SecConfig</title>
<ellipse fill="none" stroke="black" cx="275.44" cy="-237" rx="79.09" ry="18"/>
<text text-anchor="middle" x="275.44" y="-233.3" font-family="Times,serif" font-size="14.00">SecurityConfig</text>
</g>
<!-- FacePhotoCtrl&#45;&gt;SecConfig -->
<g id="edge18" class="edge">
<title>FacePhotoCtrl&#45;&gt;SecConfig</title>
<path fill="none" stroke="black" d="M736.68,-311.97C646.25,-299.24 494.49,-277.19 364.44,-255 357.67,-253.84 350.62,-252.59 343.58,-251.3"/>
<polygon fill="black" stroke="black" points="343.78,-247.78 333.31,-249.4 342.51,-254.66 343.78,-247.78"/>
</g>
<!-- FaceCompareSvc -->
<g id="node8" class="node">
<title>FaceCompareSvc</title>
<ellipse fill="none" stroke="black" cx="668.44" cy="-237" rx="122.38" ry="18"/>
<text text-anchor="middle" x="668.44" y="-233.3" font-family="Times,serif" font-size="14.00">FaceComparisonService</text>
</g>
<!-- FaceCompareCtrl&#45;&gt;FaceCompareSvc -->
<g id="edge8" class="edge">
<title>FaceCompareCtrl&#45;&gt;FaceCompareSvc</title>
<path fill="none" stroke="black" d="M382.32,-308.29C442.44,-293.52 535.04,-270.77 598.51,-255.18"/>
<polygon fill="black" stroke="black" points="599.56,-258.53 608.43,-252.74 597.89,-251.73 599.56,-258.53"/>
</g>
<!-- FaceCompareCtrl&#45;&gt;SecConfig -->
<g id="edge19" class="edge">
<title>FaceCompareCtrl&#45;&gt;SecConfig</title>
<path fill="none" stroke="black" d="M318.77,-305.6C316.21,-295.64 312.21,-283.14 306.44,-273 304.42,-269.45 302,-265.94 299.41,-262.6"/>
<polygon fill="black" stroke="black" points="301.88,-260.1 292.76,-254.7 296.52,-264.6 301.88,-260.1"/>
</g>
<!-- Cascade -->
<g id="node15" class="node">
<title>Cascade</title>
<ellipse fill="none" stroke="black" cx="668.44" cy="-91" rx="159.47" ry="18"/>
<text text-anchor="middle" x="668.44" y="-87.3" font-family="Times,serif" font-size="14.00">haarcascade_frontalface_alt.xml</text>
</g>
<!-- FaceExtractSvc&#45;&gt;Cascade -->
<g id="edge12" class="edge">
<title>FaceExtractSvc&#45;&gt;Cascade</title>
<path fill="none" stroke="black" d="M668.44,-145.81C668.44,-137.79 668.44,-128.05 668.44,-119.07"/>
<polygon fill="black" stroke="black" points="671.94,-119.03 668.44,-109.03 664.94,-119.03 671.94,-119.03"/>
</g>
<!-- Redis -->
<g id="node14" class="node">
<title>Redis</title>
<ellipse fill="none" stroke="black" cx="912.44" cy="-164" rx="36.29" ry="18"/>
<text text-anchor="middle" x="912.44" y="-160.3" font-family="Times,serif" font-size="14.00">Redis</text>
</g>
<!-- FaceCacheSvc&#45;&gt;Redis -->
<g id="edge11" class="edge">
<title>FaceCacheSvc&#45;&gt;Redis</title>
<path fill="none" stroke="black" d="M1072.72,-220.24C1036.26,-207.67 985.75,-190.27 951.24,-178.37"/>
<polygon fill="black" stroke="black" points="952.11,-174.97 941.51,-175.02 949.83,-181.59 952.11,-174.97"/>
</g>
<!-- FaceCompareSvc&#45;&gt;FaceExtractSvc -->
<g id="edge9" class="edge">
<title>FaceCompareSvc&#45;&gt;FaceExtractSvc</title>
<path fill="none" stroke="black" d="M668.44,-218.81C668.44,-210.79 668.44,-201.05 668.44,-192.07"/>
<polygon fill="black" stroke="black" points="671.94,-192.03 668.44,-182.03 664.94,-192.03 671.94,-192.03"/>
</g>
<!-- FaceCompareSvc&#45;&gt;Redis -->
<g id="edge10" class="edge">
<title>FaceCompareSvc&#45;&gt;Redis</title>
<path fill="none" stroke="black" d="M721.09,-220.68C766.39,-207.5 830.79,-188.76 872.1,-176.74"/>
<polygon fill="black" stroke="black" points="873.2,-180.07 881.82,-173.91 871.24,-173.34 873.2,-180.07"/>
</g>
<!-- JwtConfig -->
<g id="node10" class="node">
<title>JwtConfig</title>
<ellipse fill="none" stroke="black" cx="295.44" cy="-18" rx="94.48" ry="18"/>
<text text-anchor="middle" x="295.44" y="-14.3" font-family="Times,serif" font-size="14.00">JwtDecoderConfig</text>
</g>
<!-- JwtSvc&#45;&gt;JwtConfig -->
<g id="edge14" class="edge">
<title>JwtSvc&#45;&gt;JwtConfig</title>
<path fill="none" stroke="black" d="M261.87,-73.17C267.11,-64.72 273.57,-54.29 279.42,-44.85"/>
<polygon fill="black" stroke="black" points="282.49,-46.54 284.78,-36.2 276.54,-42.85 282.49,-46.54"/>
</g>
<!-- RedisCfg -->
<g id="node11" class="node">
<title>RedisCfg</title>
<ellipse fill="none" stroke="black" cx="912.44" cy="-237" rx="66.09" ry="18"/>
<text text-anchor="middle" x="912.44" y="-233.3" font-family="Times,serif" font-size="14.00">RedisConfig</text>
</g>
<!-- RedisCfg&#45;&gt;Redis -->
<g id="edge20" class="edge">
<title>RedisCfg&#45;&gt;Redis</title>
<path fill="none" stroke="black" d="M912.44,-218.81C912.44,-210.79 912.44,-201.05 912.44,-192.07"/>
<polygon fill="black" stroke="black" points="915.94,-192.03 912.44,-182.03 908.94,-192.03 915.94,-192.03"/>
</g>
<!-- OpenCvCfg -->
<g id="node12" class="node">
<title>OpenCvCfg</title>
<ellipse fill="none" stroke="black" cx="450.44" cy="-237" rx="77.19" ry="18"/>
<text text-anchor="middle" x="450.44" y="-233.3" font-family="Times,serif" font-size="14.00">OpenCvConfig</text>
</g>
<!-- OpenCvCfg&#45;&gt;FaceExtractSvc -->
<g id="edge21" class="edge">
<title>OpenCvCfg&#45;&gt;FaceExtractSvc</title>
<path fill="none" stroke="black" d="M493.51,-221.97C527.23,-210.99 574.43,-195.62 611.3,-183.61"/>
<polygon fill="black" stroke="black" points="612.5,-186.9 620.92,-180.48 610.33,-180.25 612.5,-186.9"/>
</g>
<!-- SecConfig&#45;&gt;JwtAuth -->
<g id="edge15" class="edge">
<title>SecConfig&#45;&gt;JwtAuth</title>
<path fill="none" stroke="black" d="M243.18,-220.42C222.09,-210.23 194.29,-196.8 171.34,-185.72"/>
<polygon fill="black" stroke="black" points="172.69,-182.48 162.16,-181.28 169.64,-188.79 172.69,-182.48"/>
</g>
<!-- SecConfig&#45;&gt;JwtSvc -->
<g id="edge17" class="edge">
<title>SecConfig&#45;&gt;JwtSvc</title>
<path fill="none" stroke="black" d="M272.59,-218.92C268.48,-194.23 260.83,-148.35 255.95,-119.04"/>
<polygon fill="black" stroke="black" points="259.38,-118.35 254.29,-109.06 252.48,-119.5 259.38,-118.35"/>
</g>
<!-- SecConfig&#45;&gt;JwtConfig -->
<g id="edge16" class="edge">
<title>SecConfig&#45;&gt;JwtConfig</title>
<path fill="none" stroke="black" d="M283.65,-218.84C294.6,-194.9 313.43,-149.8 320.44,-109 323.15,-93.23 323.88,-88.63 320.44,-73 318.38,-63.62 314.51,-53.92 310.43,-45.39"/>
<polygon fill="black" stroke="black" points="313.47,-43.64 305.81,-36.31 307.23,-46.81 313.47,-43.64"/>
</g>
</g>
</svg>
